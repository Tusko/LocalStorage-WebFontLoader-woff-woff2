!function(){var a={options:{appendFontWhenLoaded:!1,loadWhenDomLoaded:!0,async:!0,prefix:"font-storage-",postfixUrl:"-url",postfixCss:"-css",debug:!1},storage:null,init:function(a,b){this.options=this.extend(this.options,b),this.storage=this.getStorage(),a.forEach(function(a){return a=this.extend({storedCss:this.options.prefix+a.name+this.options.postfixCss,storedUrl:this.options.prefix+a.name+this.options.postfixUrl,url:a.woff2Url&&this.isWoff2Supported()?a.woff2Url:a.woffUrl},a),this.isFontLoaded(a)?void this.appendFont(this.storage[a.storedCss]):void this.storeFont(a)},this)},getStorage:function(){if(!window.localStorage)throw new Error("localStorage not supported");return window.localStorage.setItem("__storage_test__","1"),window.localStorage.removeItem("__storage_test__"),window.localStorage},isFontLoaded:function(a){return this.storage[a.storedCss]&&this.storage[a.storedUrl]===a.url},storeFont:function(a){this.options.loadWhenDomLoaded?document.addEventListener("DOMContentLoaded",function(){this._loadFont(a)}.apply(this)):this._loadFont(a)},_loadFont:function(a){var b=new XMLHttpRequest;b.open("GET",a.url,this.options.async),b.onload=function(){if(b.readyState===XMLHttpRequest.DONE){if(!(b.status>=200&&b.status<400))throw new Error(b.responseText);this.storage[a.storedUrl]=a.url,this.storage[a.storedCss]=b.responseText,this.options.appendFontWhenLoaded&&this.appendFont(b.responseText)}}.bind(this),b.send()},appendFont:function(a){var b=document.createElement("style");b.rel="stylesheet",document.head.appendChild(b),b.textContent=a},extend:function(a,b){for(var c in b)try{b[c].constructor==Object?a[c]=this.extend(a[c],b[c]):a[c]=b[c]}catch(d){a[c]=b[c]}return a},isWoff2Supported:function(){if(!("FontFace"in window))return!1;var a=new FontFace("t",'url( "data:application/font-woff2;base64,d09GMgABAAAAAADcAAoAAAAAAggAAACWAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABk4ALAoUNAE2AiQDCAsGAAQgBSAHIBtvAcieB3aD8wURQ+TZazbRE9HvF5vde4KCYGhiCgq/NKPF0i6UIsZynbP+Xi9Ng+XLbNlmNz/xIBBqq61FIQRJhC/+QA/08PJQJ3sK5TZFMlWzC/iK5GUN40psgqvxwBjBOg6JUSJ7ewyKE2AAaXZrfUB4v+hze37ugJ9d+DeYqiDwVgCawviwVFGnuttkLqIMGivmDg" ) format( "woff2" )',{});return a.load().catch(function(){}),"loading"==a.status||"loaded"==a.status}};window.loadFonts=function(b,c){try{a.init(b,c)}catch(a){console.error(a)}}}();
